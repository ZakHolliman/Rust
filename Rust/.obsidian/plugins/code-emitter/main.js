"use strict";var $=Object.defineProperty;var H=(e,t,n)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var T=(e,t,n)=>(H(e,typeof t!="symbol"?t+"":t,n),n);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const obsidian=require("obsidian"),__uno="",style="",url$2="https://api.kotlinlang.org//api/1.7.10/compiler/run";async function kotlin(e,t){const n={args:"",confType:"java",files:[{name:"File.kt",publicId:"",text:e}]},o=await(await fetch(url$2,{method:"POST",headers:{"content-type":"application/json; charset=utf-8"},body:JSON.stringify(n)})).json();if(o.errors&&Object.keys(o.errors).length>0)for(const s of Object.values(o.errors))for(const h of s)t.error(h.message);t.write(o.text)}const url$1="https://play.rust-lang.org/execute";async function rust(e,t){const n={channel:"stable",mode:"debug",edition:"2021",crateType:"bin",tests:!1,code:e,backtrace:!1},o=await(await fetch(url$1,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json();t.write(o.success?o.stdout:o.stderr)}const nativeGlobal=new Function("return this")(),fnRegexCheckCacheMap=new WeakMap;function isConstructable(e){const t=e.prototype&&e.prototype.constructor===e&&Object.getOwnPropertyNames(e.prototype).length>1;if(t)return!0;if(fnRegexCheckCacheMap.has(e))return fnRegexCheckCacheMap.get(e);let n=t;if(!n){const r=e.toString(),o=/^function\b\s[A-Z].*/,s=/^class\b/;n=o.test(r)||s.test(r)}return fnRegexCheckCacheMap.set(e,n),n}const naughtySafari=typeof document.all=="function"&&typeof document.all>"u",callableFnCacheMap=new WeakMap,isCallable=e=>{if(callableFnCacheMap.has(e))return!0;const t=naughtySafari?typeof e=="function"&&typeof e<"u":typeof e=="function";return t&&callableFnCacheMap.set(e,t),t},boundedMap=new WeakMap;function isBoundedFunction(e){if(boundedMap.has(e))return boundedMap.get(e);const t=e.name.indexOf("bound ")===0&&!e.hasOwnProperty("prototype");return boundedMap.set(e,t),t}const functionBoundedValueMap=new WeakMap;function getTargetValue(e,t){if(isCallable(t)&&!isBoundedFunction(t)&&!isConstructable(t)){const n=functionBoundedValueMap.get(t);if(n)return n;const r=Function.prototype.bind.call(t,e);for(const o in t)r[o]=t[o];if(t.hasOwnProperty("prototype")&&!r.hasOwnProperty("prototype")&&Object.defineProperty(r,"prototype",{value:t.prototype,enumerable:!1,writable:!0}),typeof t.toString=="function"){const o=t.hasOwnProperty("toString")&&!r.hasOwnProperty("toString"),s=r.toString===Function.prototype.toString;if(o||s){const h=Object.getOwnPropertyDescriptor(o?t:Function.prototype,"toString");Object.defineProperty(r,"toString",{...h,...h!=null&&h.get?null:{value:()=>t.toString()}})}}return functionBoundedValueMap.set(t,r),r}return t}function uniq(e){return e.filter(function(n){return n in this?!1:this[n]=!0},Object.create(null))}const rawObjectDefineProperty=Object.defineProperty;var V;const NODE_ENV=(V=typeof process<"u"?process.env.NODE_ENV:void 0)!=null?V:"production",variableWhiteListInDev=NODE_ENV==="development"||window.__QIANKUN_DEVELOPMENT__?["__REACT_ERROR_OVERLAY_GLOBAL_HOOK__"]:[],variableWhiteList=["System","__cjsWrapper",...variableWhiteListInDev],unscopables={undefined:!0,Array:!0,Object:!0,String:!0,Boolean:!0,Math:!0,Number:!0,Symbol:!0,parseFloat:!0,Float32Array:!0,isNaN:!0,Infinity:!0,Reflect:!0,Float64Array:!0,Function:!0,Map:!0,NaN:!0,Promise:!0,Proxy:!0,Set:!0,parseInt:!0,requestAnimationFrame:!0},scopables={console};function makeScope(e,t){const n=scopables[t];e[t]=new Proxy({},{get(r,o,s){var h;return(h=r[o])!=null?h:n[o]},set(r,o,s,h){return s===n[o]?delete r[t]:r[o]=s,!0}})}const useNativeWindowForBindingsProps=new Map([["fetch",!0],["mockDomAPIInBlackList",NODE_ENV==="test"]]);function createFakeWindow(e){const t=new Map,n={};return Object.getOwnPropertyNames(e).filter(r=>{if(r in scopables)return!0;const o=Object.getOwnPropertyDescriptor(e,r);return!(o!=null&&o.configurable)}).forEach(r=>{if(r in scopables){makeScope(n,r);return}const o=Object.getOwnPropertyDescriptor(e,r);if(o){const s=Object.prototype.hasOwnProperty.call(o,"get");(r==="top"||r==="parent"||r==="self"||r==="window"||NODE_ENV==="test"&&(r==="mockTop"||r==="mockSafariTop"))&&(o.configurable=!0,s||(o.writable=!0)),s&&t.set(r,!0),rawObjectDefineProperty(n,r,Object.freeze(o))}}),{fakeWindow:n,propertiesWithGetter:t}}let activeSandboxCount=0;class ProxySandbox{constructor(t,n=window){T(this,"updatedValueSet",new Set);T(this,"name");T(this,"proxy");T(this,"globalContext");T(this,"sandboxRunning",!0);T(this,"latestSetProp",null);this.name=t,this.globalContext=n;const{updatedValueSet:r}=this,{fakeWindow:o,propertiesWithGetter:s}=createFakeWindow(n),h=new Map,b=i=>o.hasOwnProperty(i)||n.hasOwnProperty(i),g=new Proxy(o,{set:(i,a,u)=>{if(this.sandboxRunning){if(!i.hasOwnProperty(a)&&n.hasOwnProperty(a)){const k=Object.getOwnPropertyDescriptor(n,a),{writable:x,configurable:O,enumerable:v}=k;x&&Object.defineProperty(i,a,{configurable:O,enumerable:v,writable:x,value:u})}else i[a]=u;return variableWhiteList.indexOf(a)!==-1&&(n[a]=u),r.add(a),this.latestSetProp=a,!0}return NODE_ENV==="development"&&console.warn(`[qiankun] Set window.${a.toString()} while sandbox destroyed or inactive in ${t}!`),!0},get:(i,a)=>{if(a===Symbol.unscopables)return unscopables;if(a==="window"||a==="self"||a==="globalThis")return g;if(a==="top"||a==="parent"||NODE_ENV==="test"&&(a==="mockTop"||a==="mockSafariTop"))return n===n.parent?g:n[a];if(a==="hasOwnProperty")return b;if(a==="document")return document;if(a==="eval")return eval;const u=s.has(a)?n[a]:a in i?i[a]:n[a],k=useNativeWindowForBindingsProps.get(a)?nativeGlobal:n;return getTargetValue(k,u)},has(i,a){return a in unscopables||a in i||a in n},getOwnPropertyDescriptor(i,a){if(i.hasOwnProperty(a)){const u=Object.getOwnPropertyDescriptor(i,a);return h.set(a,"target"),u}if(n.hasOwnProperty(a)){const u=Object.getOwnPropertyDescriptor(n,a);return h.set(a,"globalContext"),u&&!u.configurable&&(u.configurable=!0),u}},ownKeys(i){return uniq(Reflect.ownKeys(n).concat(Reflect.ownKeys(i)))},defineProperty(i,a,u){switch(h.get(a)){case"globalContext":return Reflect.defineProperty(n,a,u);default:return Reflect.defineProperty(i,a,u)}},deleteProperty:(i,a)=>(i.hasOwnProperty(a)&&(delete i[a],r.delete(a)),!0),getPrototypeOf(){return Reflect.getPrototypeOf(n)}});this.proxy=g,activeSandboxCount++}active(){this.sandboxRunning||activeSandboxCount++,this.sandboxRunning=!0}inactive(){NODE_ENV==="development"&&console.info(`[qiankun:sandbox] ${this.name} modified global properties restore...`,[...this.updatedValueSet.keys()]),--activeSandboxCount===0&&variableWhiteList.forEach(t=>{this.proxy.hasOwnProperty(t)&&delete this.globalContext[t]}),this.sandboxRunning=!1}}async function js(code,output){return new Promise(async(resolve,reject)=>{const sandbox=new ProxySandbox("t");await async function(window){const{console}=window;Object.assign(console,output),sandbox.active();try{await eval(code)}catch(e){console.error(e)}finally{sandbox.inactive()}}.bind(sandbox.proxy)(sandbox.proxy),resolve()})}function urlImport(e,t){return new Promise((n,r)=>{document.head.querySelector(`script[src="${e}"]`)&&n(t?t():void 0);const o=document.createElement("script");o.src=e,o.onload=function(){n(t?t():void 0)},document.head.append(o)})}const cdn$1="https://cdn.jsdelivr.net/npm/typescript@4.7.4/lib/typescript.min.js",ts=function(){let e,t;const n=async function(r,o){e||await t();let s=e.transpile(`(async () => { ${r} })();`,{module:e.ModuleKind.ESNext,target:e.ScriptTarget.ES2018});await js(s,o)};return n.loading=!0,t=async()=>{e=await urlImport(cdn$1,()=>window.ts),n.loading=!1,console.log("typescript loaded.")},n}(),url="https://api2.sololearn.com/v2/codeplayground/v2/compile";async function java(e,t){const n={code:e,language:"java",input:"",codeId:null},o=await(await fetch(url,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(n),mode:"cors"})).json();if(o.errors&&o.errors.length>0){o.errors.forEach(s=>t.error(s));return}t.write(o.data.output)}typeof process<"u"&&typeof process.browser>"u"&&(process.browser=!0);const cdn="https://cdn.jsdelivr.net/gh/mokeyish/pyodide-dist@0.21.2/",python=function(){let e,t,n;const r=async(o,s)=>{e||await n(),t=s;try{await e.runPythonAsync(o)}catch(h){s.error(h)}};return r.loading=!0,n=async()=>{e=await(await urlImport(`${cdn}pyodide.js`,()=>window.loadPyodide))({indexURL:cdn,stdout:s=>t==null?void 0:t.write(s),stderr:s=>t==null?void 0:t.error(s)}),await e.loadPackage("micropip"),console.log("python loaded."),r.loading=!1},r}(),languages={kotlin,rust,java,js,javascript:js,ts,typescript:ts,python};function noop(){}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return typeof e=="function"}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function is_empty(e){return Object.keys(e).length===0}function append(e,t){e.appendChild(t)}function insert(e,t,n){e.insertBefore(t,n||null)}function detach(e){e.parentNode.removeChild(e)}function destroy_each(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function element(e){return document.createElement(e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function listen(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function attr(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function children(e){return Array.from(e.childNodes)}function toggle_class(e,t,n){e.classList[n?"add":"remove"](t)}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(e){render_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0;function flush(){const e=current_component;do{for(;flushidx<dirty_components.length;){const t=dirty_components[flushidx];flushidx++,set_current_component(t),update(t.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const n=render_callbacks[t];seen_callbacks.has(n)||(seen_callbacks.add(n),n())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(e.fragment!==null){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,n,r){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function create_component(e){e&&e.c()}function mount_component(e,t,n,r){const{fragment:o,on_mount:s,on_destroy:h,after_update:b}=e.$$;o&&o.m(t,n),r||add_render_callback(()=>{const g=s.map(run).filter(is_function);h?h.push(...g):run_all(g),e.$$.on_mount=[]}),b.forEach(add_render_callback)}function destroy_component(e,t){const n=e.$$;n.fragment!==null&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(e,t){e.$$.dirty[0]===-1&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,n,r,o,s,h,b=[-1]){const g=current_component;set_current_component(e);const i=e.$$={fragment:null,ctx:null,props:s,update:noop,not_equal:o,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(g?g.$$.context:[])),callbacks:blank_object(),dirty:b,skip_bound:!1,root:t.target||g.$$.root};h&&h(i.root);let a=!1;if(i.ctx=n?n(e,t.props||{},(u,k,...x)=>{const O=x.length?x[0]:k;return i.ctx&&o(i.ctx[u],i.ctx[u]=O)&&(!i.skip_bound&&i.bound[u]&&i.bound[u](O),a&&make_dirty(e,u)),k}):[],i.update(),a=!0,run_all(i.before_update),i.fragment=r?r(i.ctx):!1,t.target){if(t.hydrate){const u=children(t.target);i.fragment&&i.fragment.l(u),u.forEach(detach)}else i.fragment&&i.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor,t.customElement),flush()}set_current_component(g)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const subscriber_queue=[];function writable(e,t=noop){let n;const r=new Set;function o(b){if(safe_not_equal(e,b)&&(e=b,n)){const g=!subscriber_queue.length;for(const i of r)i[1](),subscriber_queue.push(i,e);if(g){for(let i=0;i<subscriber_queue.length;i+=2)subscriber_queue[i][0](subscriber_queue[i+1]);subscriber_queue.length=0}}}function s(b){o(b(e))}function h(b,g=noop){const i=[b,g];return r.add(i),r.size===1&&(n=t(o)||noop),b(e),()=>{r.delete(i),r.size===0&&(n(),n=null)}}return{set:o,update:s,subscribe:h}}function createCodeOutput(){const{subscribe:e,set:t,update:n}=writable([]),r=(u,k)=>{const x=`<div class="log-${u}">${k.join(",")}</div>`;n(O=>[...O,x])};return{subscribe:e,log:(...u)=>r("info",u),info:(...u)=>r("info",u),debug:(...u)=>r("debug",u),warn:(...u)=>r("warn",u),error:(...u)=>r("error",u),write:(...u)=>{const k=u.join(",");n(x=>[...x,k])},clear:()=>{t([])},set:t}}const backend={...languages},CodeRunning_svelte_svelte_type_style_lang="";function create_fragment$2(e){let t;return{c(){t=element("div"),t.innerHTML=`<div class="dot svelte-15rvtmc"></div> 
  <div class="dot svelte-15rvtmc"></div> 
  <div class="dot svelte-15rvtmc"></div> 
  <div class="dot svelte-15rvtmc"></div>`,attr(t,"class","lds-ellipsis svelte-15rvtmc")},m(n,r){insert(n,t,r)},p:noop,i:noop,o:noop,d(n){n&&detach(t)}}}class CodeRunning extends SvelteComponent{constructor(t){super(),init(this,t,null,create_fragment$2,safe_not_equal,{})}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},md5$1={exports:{}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}},hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(e,t){(function(n,r){e.exports=r()})(commonjsGlobal,function(){var n=n||function(r,o){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof commonjsGlobal<"u"&&commonjsGlobal.crypto&&(s=commonjsGlobal.crypto),!s&&typeof commonjsRequire=="function")try{s=require("crypto")}catch{}var h=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},b=Object.create||function(){function c(){}return function(_){var m;return c.prototype=_,m=new c,c.prototype=null,m}}(),g={},i=g.lib={},a=i.Base=function(){return{extend:function(c){var _=b(this);return c&&_.mixIn(c),(!_.hasOwnProperty("init")||this.init===_.init)&&(_.init=function(){_.$super.init.apply(this,arguments)}),_.init.prototype=_,_.$super=this,_},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var _ in c)c.hasOwnProperty(_)&&(this[_]=c[_]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=i.WordArray=a.extend({init:function(c,_){c=this.words=c||[],_!=o?this.sigBytes=_:this.sigBytes=c.length*4},toString:function(c){return(c||x).stringify(this)},concat:function(c){var _=this.words,m=c.words,w=this.sigBytes,S=c.sigBytes;if(this.clamp(),w%4)for(var P=0;P<S;P++){var C=m[P>>>2]>>>24-P%4*8&255;_[w+P>>>2]|=C<<24-(w+P)%4*8}else for(var R=0;R<S;R+=4)_[w+R>>>2]=m[R>>>2];return this.sigBytes+=S,this},clamp:function(){var c=this.words,_=this.sigBytes;c[_>>>2]&=4294967295<<32-_%4*8,c.length=r.ceil(_/4)},clone:function(){var c=a.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var _=[],m=0;m<c;m+=4)_.push(h());return new u.init(_,c)}}),k=g.enc={},x=k.Hex={stringify:function(c){for(var _=c.words,m=c.sigBytes,w=[],S=0;S<m;S++){var P=_[S>>>2]>>>24-S%4*8&255;w.push((P>>>4).toString(16)),w.push((P&15).toString(16))}return w.join("")},parse:function(c){for(var _=c.length,m=[],w=0;w<_;w+=2)m[w>>>3]|=parseInt(c.substr(w,2),16)<<24-w%8*4;return new u.init(m,_/2)}},O=k.Latin1={stringify:function(c){for(var _=c.words,m=c.sigBytes,w=[],S=0;S<m;S++){var P=_[S>>>2]>>>24-S%4*8&255;w.push(String.fromCharCode(P))}return w.join("")},parse:function(c){for(var _=c.length,m=[],w=0;w<_;w++)m[w>>>2]|=(c.charCodeAt(w)&255)<<24-w%4*8;return new u.init(m,_)}},v=k.Utf8={stringify:function(c){try{return decodeURIComponent(escape(O.stringify(c)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(c){return O.parse(unescape(encodeURIComponent(c)))}},y=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(c){typeof c=="string"&&(c=v.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var _,m=this._data,w=m.words,S=m.sigBytes,P=this.blockSize,C=P*4,R=S/C;c?R=r.ceil(R):R=r.max((R|0)-this._minBufferSize,0);var E=R*P,N=r.min(E*4,S);if(E){for(var B=0;B<E;B+=P)this._doProcessBlock(w,B);_=w.splice(0,E),m.sigBytes-=N}return new u.init(_,N)},clone:function(){var c=a.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0});i.Hasher=y.extend({cfg:a.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){c&&this._append(c);var _=this._doFinalize();return _},blockSize:16,_createHelper:function(c){return function(_,m){return new c.init(m).finalize(_)}},_createHmacHelper:function(c){return function(_,m){return new j.HMAC.init(c,m).finalize(_)}}});var j=g.algo={};return g}(Math);return n})}(core)),core.exports}(function(e,t){(function(n,r){e.exports=r(requireCore())})(commonjsGlobal,function(n){return function(r){var o=n,s=o.lib,h=s.WordArray,b=s.Hasher,g=o.algo,i=[];(function(){for(var v=0;v<64;v++)i[v]=r.abs(r.sin(v+1))*4294967296|0})();var a=g.MD5=b.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,y){for(var j=0;j<16;j++){var c=y+j,_=v[c];v[c]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var m=this._hash.words,w=v[y+0],S=v[y+1],P=v[y+2],C=v[y+3],R=v[y+4],E=v[y+5],N=v[y+6],B=v[y+7],M=v[y+8],D=v[y+9],W=v[y+10],q=v[y+11],F=v[y+12],L=v[y+13],A=v[y+14],I=v[y+15],l=m[0],d=m[1],f=m[2],p=m[3];l=u(l,d,f,p,w,7,i[0]),p=u(p,l,d,f,S,12,i[1]),f=u(f,p,l,d,P,17,i[2]),d=u(d,f,p,l,C,22,i[3]),l=u(l,d,f,p,R,7,i[4]),p=u(p,l,d,f,E,12,i[5]),f=u(f,p,l,d,N,17,i[6]),d=u(d,f,p,l,B,22,i[7]),l=u(l,d,f,p,M,7,i[8]),p=u(p,l,d,f,D,12,i[9]),f=u(f,p,l,d,W,17,i[10]),d=u(d,f,p,l,q,22,i[11]),l=u(l,d,f,p,F,7,i[12]),p=u(p,l,d,f,L,12,i[13]),f=u(f,p,l,d,A,17,i[14]),d=u(d,f,p,l,I,22,i[15]),l=k(l,d,f,p,S,5,i[16]),p=k(p,l,d,f,N,9,i[17]),f=k(f,p,l,d,q,14,i[18]),d=k(d,f,p,l,w,20,i[19]),l=k(l,d,f,p,E,5,i[20]),p=k(p,l,d,f,W,9,i[21]),f=k(f,p,l,d,I,14,i[22]),d=k(d,f,p,l,R,20,i[23]),l=k(l,d,f,p,D,5,i[24]),p=k(p,l,d,f,A,9,i[25]),f=k(f,p,l,d,C,14,i[26]),d=k(d,f,p,l,M,20,i[27]),l=k(l,d,f,p,L,5,i[28]),p=k(p,l,d,f,P,9,i[29]),f=k(f,p,l,d,B,14,i[30]),d=k(d,f,p,l,F,20,i[31]),l=x(l,d,f,p,E,4,i[32]),p=x(p,l,d,f,M,11,i[33]),f=x(f,p,l,d,q,16,i[34]),d=x(d,f,p,l,A,23,i[35]),l=x(l,d,f,p,S,4,i[36]),p=x(p,l,d,f,R,11,i[37]),f=x(f,p,l,d,B,16,i[38]),d=x(d,f,p,l,W,23,i[39]),l=x(l,d,f,p,L,4,i[40]),p=x(p,l,d,f,w,11,i[41]),f=x(f,p,l,d,C,16,i[42]),d=x(d,f,p,l,N,23,i[43]),l=x(l,d,f,p,D,4,i[44]),p=x(p,l,d,f,F,11,i[45]),f=x(f,p,l,d,I,16,i[46]),d=x(d,f,p,l,P,23,i[47]),l=O(l,d,f,p,w,6,i[48]),p=O(p,l,d,f,B,10,i[49]),f=O(f,p,l,d,A,15,i[50]),d=O(d,f,p,l,E,21,i[51]),l=O(l,d,f,p,F,6,i[52]),p=O(p,l,d,f,C,10,i[53]),f=O(f,p,l,d,W,15,i[54]),d=O(d,f,p,l,S,21,i[55]),l=O(l,d,f,p,M,6,i[56]),p=O(p,l,d,f,I,10,i[57]),f=O(f,p,l,d,N,15,i[58]),d=O(d,f,p,l,L,21,i[59]),l=O(l,d,f,p,R,6,i[60]),p=O(p,l,d,f,q,10,i[61]),f=O(f,p,l,d,P,15,i[62]),d=O(d,f,p,l,D,21,i[63]),m[0]=m[0]+l|0,m[1]=m[1]+d|0,m[2]=m[2]+f|0,m[3]=m[3]+p|0},_doFinalize:function(){var v=this._data,y=v.words,j=this._nDataBytes*8,c=v.sigBytes*8;y[c>>>5]|=128<<24-c%32;var _=r.floor(j/4294967296),m=j;y[(c+64>>>9<<4)+15]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,y[(c+64>>>9<<4)+14]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,v.sigBytes=(y.length+1)*4,this._process();for(var w=this._hash,S=w.words,P=0;P<4;P++){var C=S[P];S[P]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}return w},clone:function(){var v=b.clone.call(this);return v._hash=this._hash.clone(),v}});function u(v,y,j,c,_,m,w){var S=v+(y&j|~y&c)+_+w;return(S<<m|S>>>32-m)+y}function k(v,y,j,c,_,m,w){var S=v+(y&c|j&~c)+_+w;return(S<<m|S>>>32-m)+y}function x(v,y,j,c,_,m,w){var S=v+(y^j^c)+_+w;return(S<<m|S>>>32-m)+y}function O(v,y,j,c,_,m,w){var S=v+(j^(y|~c))+_+w;return(S<<m|S>>>32-m)+y}o.MD5=b._createHelper(a),o.HmacMD5=b._createHmacHelper(a)}(Math),n.MD5})})(md5$1);const md5=md5$1.exports,RunWidget_svelte_svelte_type_style_lang="";function get_each_context(e,t,n){const r=e.slice();return r[13]=t[n],r}function create_if_block_2(e){let t,n,r;return{c(){t=element("i"),attr(t,"class","button-run-code i-fa6-solid:play svelte-kwrul9")},m(o,s){insert(o,t,s),n||(r=listen(t,"click",e[4]),n=!0)},p:noop,d(o){o&&detach(t),n=!1,r()}}}function create_if_block(e){let t,n,r,o,s,h;const b=[create_if_block_1,create_else_block],g=[];function i(a,u){return a[1]?0:1}return o=i(e),s=g[o]=b[o](e),{c(){t=element("hr"),n=space(),r=element("div"),s.c(),attr(t,"class","seprator svelte-kwrul9"),attr(r,"class","code-output svelte-kwrul9")},m(a,u){insert(a,t,u),insert(a,n,u),insert(a,r,u),g[o].m(r,null),h=!0},p(a,u){let k=o;o=i(a),o===k?g[o].p(a,u):(group_outros(),transition_out(g[k],1,1,()=>{g[k]=null}),check_outros(),s=g[o],s?s.p(a,u):(s=g[o]=b[o](a),s.c()),transition_in(s,1),s.m(r,null))},i(a){h||(transition_in(s),h=!0)},o(a){transition_out(s),h=!1},d(a){a&&detach(t),a&&detach(n),a&&detach(r),g[o].d()}}}function create_else_block(e){let t,n,r,o,s,h=e[0],b=[];for(let g=0;g<h.length;g+=1)b[g]=create_each_block(get_each_context(e,h,g));return{c(){t=element("i"),n=space(),r=element("ul");for(let g=0;g<b.length;g+=1)b[g].c();attr(t,"class","button-refresh-code i-fa6-solid:xmark svelte-kwrul9"),attr(r,"class","svelte-kwrul9")},m(g,i){insert(g,t,i),insert(g,n,i),insert(g,r,i);for(let a=0;a<b.length;a+=1)b[a].m(r,null);o||(s=listen(t,"click",e[3].clear),o=!0)},p(g,i){if(i&1){h=g[0];let a;for(a=0;a<h.length;a+=1){const u=get_each_context(g,h,a);b[a]?b[a].p(u,i):(b[a]=create_each_block(u),b[a].c(),b[a].m(r,null))}for(;a<b.length;a+=1)b[a].d(1);b.length=h.length}},i:noop,o:noop,d(g){g&&detach(t),g&&detach(n),g&&detach(r),destroy_each(b,g),o=!1,s()}}}function create_if_block_1(e){let t,n,r;return n=new CodeRunning({}),{c(){t=element("div"),create_component(n.$$.fragment),attr(t,"class","loadding svelte-kwrul9")},m(o,s){insert(o,t,s),mount_component(n,t,null),r=!0},p:noop,i(o){r||(transition_in(n.$$.fragment,o),r=!0)},o(o){transition_out(n.$$.fragment,o),r=!1},d(o){o&&detach(t),destroy_component(n)}}}function create_each_block(e){let t,n=e[13]+"";return{c(){t=element("li"),attr(t,"class","svelte-kwrul9")},m(r,o){insert(r,t,o),t.innerHTML=n},p(r,o){o&1&&n!==(n=r[13]+"")&&(t.innerHTML=n)},d(r){r&&detach(t)}}}function create_fragment$1(e){let t,n,r,o=!e[1]&&!e[2]&&create_if_block_2(e),s=(e[1]||e[2])&&create_if_block(e);return{c(){t=element("div"),o&&o.c(),n=space(),s&&s.c(),attr(t,"class","code-emitter-block svelte-kwrul9")},m(h,b){insert(h,t,b),o&&o.m(t,null),append(t,n),s&&s.m(t,null),r=!0},p(h,[b]){!h[1]&&!h[2]?o?o.p(h,b):(o=create_if_block_2(h),o.c(),o.m(t,n)):o&&(o.d(1),o=null),h[1]||h[2]?s?(s.p(h,b),b&6&&transition_in(s,1)):(s=create_if_block(h),s.c(),transition_in(s,1),s.m(t,null)):s&&(group_outros(),transition_out(s,1,1,()=>{s=null}),check_outros())},i(h){r||(transition_in(s),r=!0)},o(h){transition_out(s),r=!1},d(h){h&&detach(t),o&&o.d(),s&&s.d()}}}function instance$1(e,t,n){let r,o,s,{lang:h}=t,{code:b}=t,{sourcePath:g}=t,{autoRun:i=!1}=t;const a=createCodeOutput();let u;a.subscribe(y=>n(0,u=y));let k=!1;const x=async()=>{n(1,k=!0),await backend[h](b,a),n(1,k=!1)},O=()=>{const y=localStorage.getItem(r);if(!y)return;const c=JSON.parse(y)[o];if(!!c)return c.outputs},v=()=>{const y=localStorage.getItem(r),j=y?JSON.parse(y):{};j[o]={outputs:u,lastAccessTime:Date.now()},localStorage.setItem(r,JSON.stringify(j))};return onMount(async()=>{const y=O();y?a.set(y):i&&await x()}),onDestroy(v),e.$$set=y=>{"lang"in y&&n(5,h=y.lang),"code"in y&&n(6,b=y.code),"sourcePath"in y&&n(7,g=y.sourcePath),"autoRun"in y&&n(8,i=y.autoRun)},e.$$.update=()=>{e.$$.dirty&128&&(r=`code-emitter-cache-${g}`),e.$$.dirty&64&&(o=md5(b).toString()),e.$$.dirty&1&&n(2,s=u.length>0)},[u,k,s,a,x,h,b,g,i]}class RunWidget extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$1,safe_not_equal,{lang:5,code:6,sourcePath:7,autoRun:8})}}const SETTING_DEFAULT={autoRun:!1};function create_fragment(e){let t,n,r,o,s,h,b,g,i;return{c(){t=element("div"),n=element("div"),n.innerHTML=`<div class="setting-item-name">Auto run</div> 
        <div class="setting-item-description">Automatically run markdown CodeBlock</div>`,r=space(),o=element("div"),s=element("div"),h=element("input"),attr(n,"class","setting-item-info"),attr(h,"type","checkbox"),h.value=b=e[0].autoRun,attr(s,"class","checkbox-container"),toggle_class(s,"is-enabled",e[0].autoRun),attr(o,"class","setting-item-control"),attr(t,"class","setting-item mod-toggle")},m(a,u){insert(a,t,u),append(t,n),append(t,r),append(t,o),append(o,s),append(s,h),g||(i=listen(s,"click",e[1]),g=!0)},p(a,[u]){u&1&&b!==(b=a[0].autoRun)&&(h.value=b),u&1&&toggle_class(s,"is-enabled",a[0].autoRun)},i:noop,o:noop,d(a){a&&detach(t),g=!1,i()}}}function instance(e,t,n){let{settings:r=SETTING_DEFAULT}=t;const o=()=>n(0,r.autoRun=!r.autoRun,r);return e.$$set=s=>{"settings"in s&&n(0,r=s.settings)},[r,o]}class SettingTab extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment,safe_not_equal,{settings:0})}}const langPrefix="language-";class CodeEmitterPlugin extends obsidian.Plugin{constructor(){super(...arguments);T(this,"settings")}async injectRunCode(n,r){const o=n.querySelector("pre>code");if(o&&o.className.startsWith(langPrefix)){const s=o.className.substring(langPrefix.length).toLowerCase();backend[s]&&r.addChild(new CodeRunWidgetView(this,o.parentElement,s,o.getText(),r.sourcePath))}}async onload(){await this.loadSettings(),this.addSettingTab(new SettingTabView(this.app,this)),this.registerMarkdownPostProcessor(this.injectRunCode.bind(this),-1)}async unload(){await this.saveSettings(),super.unload()}async loadSettings(){this.settings=Object.assign({},SETTING_DEFAULT,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}}class SettingTabView extends obsidian.PluginSettingTab{constructor(n,r){super(n,r);T(this,"plugin");T(this,"view");this.plugin=r}display(){const{containerEl:n}=this;this.view=new SettingTab({target:n,props:{settings:this.plugin.settings}})}hide(){var n;return(n=this.view)==null||n.$destroy(),super.hide()}}class CodeRunWidgetView extends obsidian.MarkdownRenderChild{constructor(n,r,o,s,h){super(r);T(this,"plugin");T(this,"widget");T(this,"lang");T(this,"code");T(this,"sourcePath");this.plugin=n,this.lang=o,this.code=s,this.sourcePath=h}onload(){const{containerEl:n,lang:r,code:o,sourcePath:s}=this;this.widget=new RunWidget({target:n,props:{lang:r,code:o,sourcePath:s,autoRun:this.plugin.settings.autoRun}})}onunload(){var n;(n=this.widget)==null||n.$destroy()}}exports.SettingTabView=SettingTabView;exports.default=CodeEmitterPlugin;
